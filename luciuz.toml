[server]
# v0 (MVP):
# - HTTP is "challenge + redirect only"
# - HTTPS is the real service
http_listen = ""
https_listen = "0.0.0.0:443"
profile = "public_api"
canonical_host = "luciuz.com"
hsts = true
hsts_max_age = 86400
hsts_include_subdomains = false
hsts_preload = false
security_headers = true

[acme]
enabled = true
# prod=false uses Let's Encrypt STAGING (recommended for initial testing)
# prod=true uses Let's Encrypt PRODUCTION
prod = true
email = "admin@luciuz.com"
domains = ["luciuz.com", "www.luciuz.com"]
cache_dir = "/var/lib/luciuz/acme"
challenge = "tls-alpn-01"

[telemetry]
json_logs = true
log_level = "info"

[timeouts]
handler_secs = 30

[static_site]
root = "/var/www/luciuz"
index = "index.html"

[proxy]
max_body_bytes = 52428800 # 50 MB

[proxy.routes]
prefix = "/api"
upstream = "http://127.0.0.1:8080"
strip_prefix = true
